#################### å…¨å±€é…ç½® ####################

port: 7890 # http(s) ä»£ç†ç«¯å£

socks-port: 7891 # socks4/4a/5 ä»£ç†ç«¯å£

mixed-port: 7892 # æ··åˆç«¯å£ åŒæ—¶æ”¯æŒ HTTP(S) å’Œ SOCKS5 åè®®

redir-port: 7893 # redirect é€æ˜ä»£ç†ç«¯å£,ä»…èƒ½ä»£ç† TCP æµé‡

tproxy-port: 7894 # tproxy é€æ˜ä»£ç†ç«¯å£,å¯ä»£ç† TCP ä¸ UDP æµé‡



allow-lan: true # å…è®¸å±€åŸŸç½‘è¿æ¥ false/true

bind-address: "*" # ç»‘å®šåœ°å€

lan-allowed-ips: # å…è®¸è¿æ¥çš„ IP åœ°å€æ®µ,ä»…ä½œç”¨äº allow-lan ä¸º true, é»˜è®¤å€¼ä¸º 0.0.0.0/0 å’Œ ::/0

  - "0.0.0.0/0"

  - "::/0"

# lan-disallowed-ips: # ç¦æ­¢è¿æ¥çš„ IP åœ°å€æ®µ, é»‘åå•ä¼˜å…ˆçº§é«˜äºç™½åå•, é»˜è®¤å€¼ä¸ºç©º

  # - "192.168.0.3/32"

authentication: # ç”¨æˆ·éªŒè¯ http(s)/socks/mixed ä»£ç†çš„ç”¨æˆ·éªŒè¯

  - "clash:meta" # ç”¨æˆ·:å¯†ç 

skip-auth-prefixes: # è·³è¿‡éªŒè¯çš„IPæ®µ

  - "127.0.0.1/8"

  - "::1/128"



ipv6: true # IPv6 æ˜¯å¦å…è®¸å†…æ ¸æ¥å— IPv6 æµé‡

tcp-concurrent: true # TCP å¹¶å‘ å¦‚æœåŸŸåè§£æç»“æœå¯¹åº”å¤šä¸ªIP,å¹¶å‘è¯·æ±‚æ‰€æœ‰IP,é€‰æ‹©æ¡æ‰‹æœ€å¿«çš„IPè¿›è¡Œé€šè®¯

keep-alive-interval: 30 # TCP Keep Alive é—´éš”,å•ä½ min ,æ§åˆ¶ Clash å‘å‡º TCP Keep Alive åŒ…çš„é—´éš”,å‡å°‘ç§»åŠ¨è®¾å¤‡è€—ç”µé—®é¢˜çš„ä¸´æ—¶æªæ–½

unified-delay: true # ç»Ÿä¸€å»¶è¿Ÿ

# interface-name: "wlan0" # å‡ºç«™æ¥å£,ä¸ auto-detect-interface å†²çª

# routing-mark:  # è·¯ç”±æ ‡è®° é…ç½® fwmark ä»…ç”¨äº Linux



tls: # TLS ç›®å‰ä»…ç”¨äº API çš„ https

  certificate: "./tls/ca_cert.pem" # è¯ä¹¦ PEM æ ¼å¼,æˆ–è€… è¯ä¹¦çš„è·¯å¾„

  private-key: "./tls/ca_key.pem" # è¯ä¹¦å¯¹åº”çš„ç§é’¥ PEM æ ¼å¼,æˆ–è€…ç§é’¥è·¯å¾„

  # custom-certifactes:

    # - |

      # -----BEGIN CERTIFICATE-----

      # format/pem...

      # -----END CERTIFICATE-----



geodata-mode: true # GEOIP æ•°æ®æ¨¡å¼,æ›´æ”¹ geoip ä½¿ç”¨æ–‡ä»¶ä¸º mmdb æˆ–è€… dat ,å¯é€‰,true ä¸º dat

geosite-matcher: "succinct" # GeoSite åŒ¹é…å™¨ä½¿ç”¨çš„å®ç° succinct (default, same as rule-set)/mph (from V2Ray, also `hybrid` in Xray)

geodata-loader: "memconservative" # GEO æ–‡ä»¶åŠ è½½æ¨¡å¼ standard/memconservative

geo-auto-update: false # è‡ªåŠ¨æ›´æ–° GEO æ˜¯å¦å¯ç”¨,å¯é€‰ true/false

geo-update-interval: 24 # æ›´æ–°é—´éš”,å•ä½ h

geox-url: # è‡ªå®š GEO ä¸‹è½½åœ°å€

  geoip: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/release/geoip.dat"

  geosite: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/release/geosite.dat"

  # mmdb: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/release/country.mmdb"

  # asn: "https://raw.githubusercontent.com/xishang0128/geoip/release/GeoLite2-ASN.mmdb"



external-ui: "./ui" # å¤–éƒ¨ç”¨æˆ·ç•Œé¢çš„è·¯å¾„

external-ui-name: "metacubexd" # è‡ªå®šä¹‰å¤–éƒ¨ç”¨æˆ·ç•Œé¢åå­—

external-ui-url: "https://github.com/MetaCubeX/metacubexd/archive/refs/heads/gh-pages.zip" # è‡ªå®šä¹‰å¤–éƒ¨ç”¨æˆ·ç•Œé¢ä¸‹è½½åœ°å€



mode: "rule" # è¿è¡Œæ¨¡å¼ rule/global/direct ,æš‚ä¸æ”¯æŒ script

log-level: "silent" # æ—¥å¿—çº§åˆ« silent/error/warning/info/debug

find-process-mode: "strict" # è¿›ç¨‹æ¨¡å¼ off/strict/always

global-client-fingerprint: "chrome" # å…¨å±€å®¢æˆ·ç«¯æŒ‡çº¹,å¯é€‰: chrome/firefox/safari/iOS/android/edge/360/qq/random ,ä¼˜å…ˆä½äº proxy å†…çš„ client-fingerprint ,ç›®å‰æ”¯æŒå¼€å¯ TLS ä¼ è¾“çš„ TCP/grpc/WS/HTTP , æ”¯æŒåè®®æœ‰ VLESS,Vmess å’Œ trojan

global-ua: "Mozilla/5.0" # å…¨å±€ UA ,é»˜è®¤ clash.meta



profile: # ç¼“å­˜

  store-selected: false # å‚¨å­˜ API å¯¹ç­–ç•¥ç»„çš„é€‰æ‹©,ä»¥ä¾›ä¸‹æ¬¡å¯åŠ¨æ—¶ä½¿ç”¨

  store-fake-ip: false # fake-ip ç¼“å­˜,åŸŸåå†æ¬¡å‘ç”Ÿè¿æ¥æ—¶,ä½¿ç”¨åŸæœ‰æ˜ å°„åœ°å€



external-controller: "0.0.0.0:9090" # API ç›‘å¬åœ°å€

external-controller-tls: "0.0.0.0:9443" # HTTPS-API ç›‘å¬åœ°å€,éœ€è¦é…ç½® tls éƒ¨åˆ†è¯ä¹¦å’Œå…¶ç§é’¥é…ç½®,ä½¿ç”¨ TLS ä¹Ÿå¿…é¡»å¡«å†™ external-controller

secret: "" # API çš„è®¿é—®å¯†é’¥



#################### è¯•éªŒé…ç½® ####################

# experimental:

  # quic-go-disable-gso: false # ç¦ç”¨GSO

  # quic-go-disable-ecn: false # ç¦ç”¨ECN

  # dialer-ip4p-convert: false # å¯ç”¨IP4Påœ°å€è½¬æ¢



#################### HOSTS ####################

# hosts: # hosts ç±»ä¼¼äº /etc/hosts , ä»…æ”¯æŒé…ç½®å•ä¸ª IP

  # '*.clash.dev': 127.0.0.1

  # 'alpha.clash.dev': '::1'

  # test.com: [1.1.1.1, 2.2.2.2]

  # baidu.com: google.com # åªå…è®¸é…ç½®ä¸€ä¸ªåˆ«å

  # home.lan: lan # lan ä¸ºç‰¹åˆ«å­—æ®µ,å°†åŠ å…¥æœ¬åœ°æ‰€æœ‰ç½‘å¡çš„åœ°å€



#################### åŸŸåå—…æ¢ ####################

sniffer:

  enable: true # æ˜¯å¦å¯ç”¨,å¯é€‰ true/false

  force-dns-mapping: true # å¯¹ redir-host ç±»å‹è¯†åˆ«çš„æµé‡è¿›è¡Œå¼ºåˆ¶å—…æ¢

  parse-pure-ip: true # å¯¹æ‰€æœ‰æœªè·å–åˆ°åŸŸåçš„æµé‡è¿›è¡Œå¼ºåˆ¶å—…æ¢

  override-destination: true # æ˜¯å¦ä½¿ç”¨å—…æ¢ç»“æœä½œä¸ºå®é™…è®¿é—®,é»˜è®¤ä¸º true

  sniff: # TLS å’Œ QUIC é»˜è®¤å¦‚æœä¸é…ç½® ports é»˜è®¤å—…æ¢ 443

    QUIC:

      ports: [443, 8443]

    TLS:

      ports: [443, 8443]

    HTTP: # é»˜è®¤å—…æ¢ 80

      ports: [80, 8080-8880]

  skip-domain: # éœ€è¦è·³è¿‡å—…æ¢çš„åŸŸå,ä¸»è¦è§£å†³éƒ¨åˆ†ç«™ç‚¹sniå­—æ®µéåŸŸå,å¯¼è‡´å—…æ¢ç»“æœå¼‚å¸¸çš„é—®é¢˜,å¦‚ç±³å®¶è®¾å¤‡

    - "Mijia Cloud"



#################### TUN ####################

tun:

  enable: true # æ˜¯å¦å¯ç”¨,å¯é€‰ true/false

  stack: "mixed" # tun æ¨¡å¼å †æ ˆ system/gvisor/mixed

  device: "Clash" # æŒ‡å®š tun ç½‘å¡åç§°, MacOS è®¾å¤‡åªèƒ½ä½¿ç”¨ utun å¼€å¤´çš„ç½‘å¡å

  auto-route: true # è‡ªåŠ¨è®¾ç½®å…¨å±€è·¯ç”±,å¯ä»¥è‡ªåŠ¨å°†å…¨å±€æµé‡è·¯ç”±è¿›å…¥ tun ç½‘å¡

  auto-detect-interface: true # è‡ªåŠ¨é€‰æ‹©æµé‡å‡ºå£æ¥å£,å¤šå‡ºå£ç½‘å¡åŒæ—¶è¿æ¥çš„è®¾å¤‡å»ºè®®æ‰‹åŠ¨æŒ‡å®šå‡ºå£ç½‘å¡

  strict-route: false # true/false ä¸¥æ ¼è·¯ç”±,æ‰€æœ‰è¿æ¥è·¯ç”±åˆ° tun æ¥é˜²æ­¢æ³„æ¼,ä½†è®¾å¤‡å°†æ— æ³•è¢«å…¶ä»–è®¾å¤‡è®¿é—®

  dns-hijack: # éœ€è¦åŠ«æŒçš„ DNS

    - "any:53"

  mtu: 1280 # æœ€å¤§ä¼ è¾“å•å…ƒ é»˜è®¤ï¼š9000

  udp-timeout: 300 # UDP NAT è¿‡æœŸæ—¶é—´,å•ä½ s ,é»˜è®¤ä¸º 300 = 5 åˆ†é’Ÿ

  endpoint-independent-nat: false # å¯ç”¨ç‹¬ç«‹äºç«¯ç‚¹çš„ NAT,æ€§èƒ½å¯èƒ½ä¼šç•¥æœ‰ä¸‹é™,æ‰€ä»¥ä¸å»ºè®®åœ¨ä¸éœ€è¦çš„æ—¶å€™å¼€å¯



#################### DNS ####################

dns:

  enable: true # å…³é—­å°†ä½¿ç”¨ç³»ç»Ÿ DNS

  cache-algorithm: "arc" # ç¼“å­˜ç®—æ³• lru/lfu/arc

  use-hosts: false # æ˜¯å¦æŸ¥è¯¢ hosts ,æ˜¯å¦å¯ç”¨ true/false

  prefer-h3: true # å¼€å¯ DoH æ”¯æŒ HTTP/3 ,å°†å¹¶å‘å°è¯•

  listen: "0.0.0.0:1053" # å¼€å¯ DNS æœåŠ¡å™¨ç›‘å¬

  ipv6: true # false å°†è¿”å› AAAA çš„ç©ºç»“æœ

  ipv6-timeout: 300 # å•ä½ ms ,å†…éƒ¨åŒæ ˆå¹¶å‘æ—¶,å‘ä¸Šæ¸¸æŸ¥è¯¢ AAAA æ—¶,ç­‰å¾… AAAA çš„æ—¶é—´,é»˜è®¤ 100ms

  enhanced-mode: "fake-ip" # DNS å¤„ç†æ¨¡å¼ fake-ip/redir-host

  fake-ip-range: "198.18.0.1/16" # fakeip ä¸‹çš„ IP æ®µè®¾ç½® 198.18.0.1/16 28.0.0.1/8

  fake-ip-filter: # fakeip è¿‡æ»¤,ä»¥ä¸‹åœ°å€ä¸ä¼šä¸‹å‘ fakeip æ˜ å°„ç”¨äºè¿æ¥

    - "*"

    - "+.invalid.*"

    - "+.lan"

    - "+.local.*"

    - "+.localhost"

    # NTP

    - "+.ntp.*"

    - "ntp*.*.com"

    - "time*.*.com"

    # å›½å†…é¡¶çº§åŸŸå

    - "+.ac.cn"

    - "+.com.cn"

    - "+.edu.cn"

    - "+.gov.cn"

    - "+.mil.cn"

    - "+.net.cn"

    - "+.org.cn"

    # è…¾è®¯

    - "+.qpic.cn"

    - "localhost.*.qq.com"

    - "+.y.qq.com"

    # ç½‘æ˜“

    - "+.music.163.com"

    # å¾®è½¯

    - "*.msftconnecttest.com"

    - "*.msftncsi.com"

    - "*.windowsupdate.com"

  nameserver-policy: # æŒ‡å®šçš„è§£ææœåŠ¡,æ²¡åŒ¹é…åˆ°æ—¶ä½¿ç”¨ nameserver/fallback å¹¶å‘æŸ¥è¯¢

    "geosite:private,cn":

      - "https://223.5.5.5/dns-query" # Alibaba IPv4 DoH

      - "https://223.6.6.6/dns-query"

      - "https://[2400:3200::1]/dns-query" # Alibaba IPv6 DoH

      - "https://[2400:3200:baba::1]/dns-query"

    "geosite:!private,!cn":

      - "https://1.1.1.1/dns-query" # Cloudflare IPv4 DoH

      - "https://1.0.0.1/dns-query"

      - "https://[2606:4700:4700::1111]/dns-query" # Cloudflare IPv6 DoH

      - "https://[2606:4700:4700::1001]/dns-query"

  nameserver: # é»˜è®¤åŸŸåè§£æ,å¦‚ä¸é…ç½® fallback/proxy-server-nameserver ,åˆ™éƒ½ç”± nameserver è§£æ

    - "https://1.1.1.1/dns-query" # Cloudflare IPv4 DoH

    - "https://1.0.0.1/dns-query"

    - "https://223.5.5.5/dns-query" # Alibaba IPv4 DoH

    - "https://223.6.6.6/dns-query"

    - "https://[2606:4700:4700::1111]/dns-query" # Cloudflare IPv6 DoH

    - "https://[2606:4700:4700::1001]/dns-query"

    - "https://[2400:3200::1]/dns-query" # Alibaba IPv6 DoH

    - "https://[2400:3200:baba::1]/dns-query"



#################### å‡ºç«™ä»£ç† ####################

proxies:

  - {name: âš« DNSåŠ«æŒ, type: dns}



#################### ä»£ç†é›†åˆ ####################

proxy_providers_header: &proxy_providers_header

  User-Agent:

    - "clash"

    - "loon"

    - "meta"

    - "mihomo"

    - "passwall"

    - "quantumult%20x"

    - "sagernet"

    - "shadowrocket"

    - "shadowsocks"

    - "ssrplus"

    - "stash"

    - "surfboard"

    - "surge"

    - "v2rayn"

    - "v2rayng"

proxy_providers_health_check: &proxy_providers_health_check

  url: "https://www.google.com/generate_204" # ä½¿â½¤ https ,é˜²â½Œâ½†ï¥¼â½¼æ¿ä¼ªé€ å»¶è¿Ÿ! https://www.gstatic.com/generate_204 https://cp.cloudflare.com

  interval: 300 # æµ‹è¯•é—´éš”,å¦‚ä¸ä¸º 0 åˆ™å¯ç”¨å®šæ—¶æµ‹è¯•,å•ä½ s

  timeout: 5000 # å¥åº·æ£€æŸ¥è¶…æ—¶æ—¶é—´,å•ä½ä¸º ms

  expected-status: "204" # æœŸæœ›çŠ¶æ€,åªæœ‰å½“å“åº”çŠ¶æ€ç ä¸æœŸæœ›çŠ¶æ€ä¸€è‡´æ—¶æ‰è®¤ä¸ºèŠ‚ç‚¹å¯ç”¨

proxy_providers_override: &proxy_providers_override

  udp: true # æ˜¯å¦å…è®¸ UDP é€šè¿‡ä»£ç†

  ip-version: "dual" # è®¾ç½®èŠ‚ç‚¹ä½¿ç”¨ IP ç‰ˆæœ¬,é»˜è®¤ä½¿ç”¨ dual ; dual/ipv4/ipv6/ipv4-prefer/ipv6-prefer



proxy-providers:

  "Subscription_1": 

    type: http # å¿…é¡», provider ç±»å‹,å¯é€‰ http/file

    url: "https://raw.githubusercontent.com/Huibq/TrojanLinks/master/links/vmess" # æ³¨æ„!å¦‚æœæ‚¨çš„é“¾æ¥ä¸­å¸¦æœ‰â€œ&â€å­—ç¬¦,è¯·åˆ æ‰.

    path: "./proxy_providers/Subscription_1.yaml" # æœºåœºé…ç½®ä¿å­˜ä½ç½®

    proxy: "ğŸ§­ æ¢ç´¢å¤§é™†"

    header:

      <<: *proxy_providers_header # å¼•ç”¨ç›¸å…³é”šç‚¹

    health-check: # å»¶è¿Ÿæµ‹è¯•

      enable: true # æ˜¯å¦å¯ç”¨,å¯é€‰ true/false

      <<: *proxy_providers_health_check

    override: # è¦†å†™èŠ‚ç‚¹å†…å®¹

      <<: *proxy_providers_override

      additional-prefix: "ã€01ã€‘| " # ä¸ºèŠ‚ç‚¹åç§°æ·»åŠ å›ºå®šå‰ç¼€

    exclude-filter: "(?i)å‰å¾€|åŠ å…¥|ç¾¤|æµé‡|è¿‡æœŸ|å›å›½|CN|å®‰å¾½|åŒ—äº¬|é‡åº†|ç¦å»º|ç”˜è‚ƒ|å¹¿ä¸œ|å¹¿è¥¿|è´µå·|æµ·å—|æ²³åŒ—|é»‘é¾™æ±Ÿ|æ²³å—|æ¹–åŒ—|æ¹–å—|å‰æ—|æ±Ÿè‹|æ±Ÿè¥¿|è¾½å®|å†…è’™å¤|å®å¤|é’æµ·|å±±ä¸œ|å±±è¥¿|é™•è¥¿|ä¸Šæµ·|å››å·|å¤©æ´¥|è¥¿è—|æ–°ç–†|äº‘å—|æµ™æ±Ÿ"

    # è¿‡æ»¤å›å›½ç­‰..

  "Subscription_2":

    type: http

    url: "https://raw.githubusercontent.com/ripaojiedian/freenode/main/sub"

    path: "./proxy_providers/Subscription_2.yaml"

    proxy: "ğŸ§­ æ¢ç´¢å¤§é™†"

    header:

      <<: *proxy_providers_header

    health-check:

      enable: true

      <<: *proxy_providers_health_check

    override:

      <<: *proxy_providers_override

      additional-prefix: "ã€02ã€‘| "

    exclude-filter: "(?i)å‰å¾€|åŠ å…¥|ç¾¤|æµé‡|è¿‡æœŸ|å›å›½|CN|å®‰å¾½|åŒ—äº¬|é‡åº†|ç¦å»º|ç”˜è‚ƒ|å¹¿ä¸œ|å¹¿è¥¿|è´µå·|æµ·å—|æ²³åŒ—|é»‘é¾™æ±Ÿ|æ²³å—|æ¹–åŒ—|æ¹–å—|å‰æ—|æ±Ÿè‹|æ±Ÿè¥¿|è¾½å®|å†…è’™å¤|å®å¤|é’æµ·|å±±ä¸œ|å±±è¥¿|é™•è¥¿|ä¸Šæµ·|å››å·|å¤©æ´¥|è¥¿è—|æ–°ç–†|äº‘å—|æµ™æ±Ÿ"



  "Subscription_3":

    type: http

    url: "https://www.xrayvip.com/free.txt"

    path: "./proxy_providers/Subscription_3.yaml"

    proxy: "ğŸ§­ æ¢ç´¢å¤§é™†"

    header:

      <<: *proxy_providers_header

    health-check:

      enable: true

      <<: *proxy_providers_health_check

    override:

      <<: *proxy_providers_override

      additional-prefix: "ã€03ã€‘| "

    exclude-filter: "(?i)å‰å¾€|åŠ å…¥|ç¾¤|æµé‡|è¿‡æœŸ|å›å›½|CN|å®‰å¾½|åŒ—äº¬|é‡åº†|ç¦å»º|ç”˜è‚ƒ|å¹¿ä¸œ|å¹¿è¥¿|è´µå·|æµ·å—|æ²³åŒ—|é»‘é¾™æ±Ÿ|æ²³å—|æ¹–åŒ—|æ¹–å—|å‰æ—|æ±Ÿè‹|æ±Ÿè¥¿|è¾½å®|å†…è’™å¤|å®å¤|é’æµ·|å±±ä¸œ|å±±è¥¿|é™•è¥¿|ä¸Šæµ·|å››å·|å¤©æ´¥|è¥¿è—|æ–°ç–†|äº‘å—|æµ™æ±Ÿ"



#################### ç­–ç•¥ç»„ ####################

proxy_groups_use_load_balance: &proxy_groups_use_load_balance {type: load-balance, include-all-providers: true, strategy: consistent-hashing} # strategy: consistent-hashing/round-robin/sticky-sessions

proxy_groups_select_1_2: &proxy_groups_select_1_2 {type: select, proxies: [ğŸ—º é€‰æ‹©èŠ‚ç‚¹, ğŸŒ¸ è‡ªåŠ¨åˆ‡æ¢, ğŸŒ¿ è´Ÿè½½å‡è¡¡, ğŸŒ å…¨çƒç›´è¿]}

proxy_groups_proxy: &proxy_groups_proxy {type: select, proxies: [ğŸ§­ æ¢ç´¢å¤§é™†, ğŸŒ å…¨çƒç›´è¿, ğŸ– æ‰‹åŠ¨åˆ‡æ¢1, ğŸ– æ‰‹åŠ¨åˆ‡æ¢2]}

proxy_groups_direct: &proxy_groups_direct {type: select, proxies: [ğŸŒ å…¨çƒç›´è¿, ğŸ§­ æ¢ç´¢å¤§é™†, ğŸ– æ‰‹åŠ¨åˆ‡æ¢1, ğŸ– æ‰‹åŠ¨åˆ‡æ¢2]}



proxy-groups:

  - {name: ğŸ§­ æ¢ç´¢å¤§é™†, type: select, proxies: [ğŸ—º é€‰æ‹©èŠ‚ç‚¹, ğŸŒ¸ è‡ªåŠ¨åˆ‡æ¢, ğŸŒ¿ è´Ÿè½½å‡è¡¡, ğŸŒ å…¨çƒç›´è¿, ğŸ– æ‰‹åŠ¨åˆ‡æ¢1, ğŸ– æ‰‹åŠ¨åˆ‡æ¢2]}

  - {name: ğŸ—º é€‰æ‹©èŠ‚ç‚¹, type: select, proxies: [ğŸŒ¸ è‡ªåŠ¨åˆ‡æ¢, ğŸŒ å…¨çƒç›´è¿], include-all-providers: true}

  - {name: ğŸŒ¸ è‡ªåŠ¨åˆ‡æ¢, type: url-test, include-all-providers: true, tolerance: 5}

  - {name: ğŸŒ¿ è´Ÿè½½å‡è¡¡, <<: *proxy_groups_use_load_balance}

  - {name: ğŸ– æ‰‹åŠ¨åˆ‡æ¢1, <<: *proxy_groups_select_1_2}

  - {name: ğŸ– æ‰‹åŠ¨åˆ‡æ¢2, <<: *proxy_groups_select_1_2}

  - {name: ğŸ’Œ è°·æ­Œæ¨é€, <<: *proxy_groups_proxy}

  - {name: ğŸ“º æ²¹ç®¡è§†é¢‘, <<: *proxy_groups_proxy}

  - {name: ğŸ“º å“”å“©å“”å“©, <<: *proxy_groups_direct}

  - {name: ğŸ å¥ˆé£å½±è§†, <<: *proxy_groups_proxy}

  - {name: ğŸ“¸ å›½é™…æŠ–éŸ³, <<: *proxy_groups_proxy}

  - {name: ğŸ¤– äººå·¥æ™ºèƒ½, <<: *proxy_groups_proxy}

  - {name: ğŸ§¬ Tracker, <<: *proxy_groups_direct}

  - {name: ğŸ‡¶ Q U I C, type: select, proxies: [âšª ç»•è¿‡è§„åˆ™, ğŸ”´ æ‹¦æˆªæ•°æ®]}

  - {name: ğŸ”´ æ‹¦æˆªæ•°æ®, type: select, proxies: [REJECT-DROP]}

  - {name: âšª ç»•è¿‡è§„åˆ™, type: select, proxies: [PASS]}

  - {name: ğŸŒ å…¨çƒç›´è¿, type: select, proxies: [DIRECT]}

  - {name: ğŸ‹ æ¼ç½‘ä¹‹é±¼, type: select, proxies: [ğŸ§­ æ¢ç´¢å¤§é™†, ğŸŒ å…¨çƒç›´è¿]}

  # åˆ†éš”,ä¸‹é¢æ˜¯åœ°åŒºåˆ†ç»„

  # - {name: ğŸ‡ºğŸ‡¸ ç¾å›½, type: url-test, include-all-providers: true, tolerance: 5, filter: "(?i)ğŸ‡ºğŸ‡¸|ğŸ‡ºğŸ‡²|ç¾|United States|UnitedStates|America", hidden: true}

  # - {name: ğŸ‡¯ğŸ‡µ æ—¥æœ¬, type: url-test, include-all-providers: true, tolerance: 5, filter: "(?i)ğŸ‡¯ğŸ‡µ|æ—¥|Japan|Nippon|Nihon", hidden: true}

  # - {name: ğŸ‡¹ğŸ‡¼ å°æ¹¾, type: url-test, include-all-providers: true, tolerance: 5, filter: "(?i)ğŸ‡¹ğŸ‡¼|å°|Taiwan|Formosa", hidden: true}

  # - {name: ğŸ‡¸ğŸ‡¬ ç‹®åŸ, type: url-test, include-all-providers: true, tolerance: 5, filter: "(?i)ğŸ‡¸ğŸ‡¬|æ–°|Singapore|Singapura", hidden: true}

  # - {name: ğŸ‡­ğŸ‡° é¦™æ¸¯, type: url-test, include-all-providers: true, tolerance: 5, filter: "(?i)ğŸ‡­ğŸ‡°|æ¸¯|Hong Kong|Hongkong", hidden: true}

  # - {name: ğŸ‡ºğŸ‡³ å…¶ä»–, type: select, include-all-providers: true, filter: "(?i)^(?!.*(?:ğŸ‡ºğŸ‡¸|ğŸ‡ºğŸ‡²|ç¾|United States|UnitedStates|America|ğŸ‡¯ğŸ‡µ|æ—¥|Japan|Nippon|Nihon|ğŸ‡¹ğŸ‡¼|å°|Taiwan|Formosa|ğŸ‡¸ğŸ‡¬|æ–°|Singapore|Singapura|ğŸ‡­ğŸ‡°|æ¸¯|Hong Kong|Hongkong)).*"}



#################### è§„åˆ™é›†åˆ ####################

rule-anchor:

  rule_classical: &rule_classical {type: http, behavior: classical, format: yaml}

  rule_domain: &rule_domain {type: http, behavior: domain, format: yaml}

  rule_ipcidr: &rule_ipcidr {type: http, behavior: ipcidr, format: yaml}



rule-providers:

  rule_reject:

    <<: *rule_domain

    url: "https://raw.githubusercontent.com/yiteei/My_Project/main/Clash/rule-providers/reject.yaml"

    path: "./rule_providers/domain_reject.yaml"

  rule_proxy:

    <<: *rule_domain

    url: "https://raw.githubusercontent.com/yiteei/My_Project/main/Clash/rule-providers/proxy.yaml"

    path: "./rule_providers/domain_proxy.yaml"

  rule_direct:

    <<: *rule_domain

    url: "https://raw.githubusercontent.com/yiteei/My_Project/main/Clash/rule-providers/direct.yaml"

    path: "./rule_providers/domain_direct.yaml"



#################### è·¯ç”±è§„åˆ™ ####################

rules:

  - OR,((AND,((NETWORK,tcp),(DST-PORT,53))),(AND,((NETWORK,udp),(DST-PORT,53)))),âš« DNSåŠ«æŒ # åŠ«æŒ DNS

  - OR,((GEOSITE,category-httpdns),(DOMAIN-KEYWORD,httpdns)),ğŸ”´ æ‹¦æˆªæ•°æ® # å±è”½ httpdns ,å¯è§£å†³ä¸€äº›é¡µé¢åŠ è½½ä¸å‡ºæ¥

  - OR,((GEOSITE,category-ads-all),(RULE-SET,rule_reject)),ğŸ”´ æ‹¦æˆªæ•°æ® # åŒ…å«äº†å¸¸è§çš„å¹¿å‘ŠåŸŸååŠæä¾›å•†çš„åŸŸå | è‡ªå®šä¹‰æ‹¦æˆª

  - OR,((GEOSITE,private),(GEOIP,private,no-resolve)),ğŸŒ å…¨çƒç›´è¿ # åŒ…å«ç§æœ‰ IP

  - OR,((AND,((DST-PORT,443),(NETWORK,udp),(GEOSITE,!cn))),(AND,((DST-PORT,443),(NETWORK,udp),(GEOIP,!cn)))),ğŸ‡¶ Q U I C # å›½å†…ä»¥å¤–çš„ QUIC

  - RULE-SET,rule_proxy,ğŸ§­ æ¢ç´¢å¤§é™† # è‡ªå®šä¹‰ä»£ç†

  - RULE-SET,rule_direct,ğŸŒ å…¨çƒç›´è¿ # è‡ªå®šä¹‰ç›´è¿

  - GEOSITE,biliintl,ğŸ§­ æ¢ç´¢å¤§é™†

  - GEOSITE,bilibili,ğŸ“º å“”å“©å“”å“©

  - GEOSITE,netflix,ğŸ å¥ˆé£å½±è§†

  - GEOSITE,tiktok,ğŸ“¸ å›½é™…æŠ–éŸ³

  - GEOSITE,openai,ğŸ¤– äººå·¥æ™ºèƒ½

  - GEOSITE,googlefcm,ğŸ’Œ è°·æ­Œæ¨é€

  - GEOSITE,youtube,ğŸ“º æ²¹ç®¡è§†é¢‘

  - GEOSITE,google@cn,ğŸ§­ æ¢ç´¢å¤§é™†

  - GEOSITE,onedrive,ğŸŒ å…¨çƒç›´è¿

  - GEOSITE,microsoft@cn,ğŸ§­ æ¢ç´¢å¤§é™†

  - GEOSITE,category-public-tracker,ğŸ§¬ Tracker

  - GEOSITE,category-games@cn,ğŸŒ å…¨çƒç›´è¿

  - OR,((GEOSITE,cn),(GEOIP,cn)),ğŸŒ å…¨çƒç›´è¿

  - IN-TYPE,INNER,ğŸ§­ æ¢ç´¢å¤§é™†

  - MATCH,ğŸ‹ æ¼ç½‘ä¹‹é±¼



#################### å­è§„åˆ™ ####################

# sub-rules:



#################### NTP ####################

# ntp:

  # enable: true # æ˜¯å¦å¯ç”¨ NTP æœåŠ¡ true/false

  # write-to-system: true # æ˜¯å¦åŒæ­¥è‡³ç³»ç»Ÿæ—¶é—´,éœ€è¦ rootã€ç®¡ç†å‘˜æ¨¡å¼è¿è¡Œ

  # server: "ntp.aliyun.com" # NTP æœåŠ¡åœ°å€

  # port: 123 # NTP æœåŠ¡ç«¯å£,é»˜è®¤ 123

  # interval: 60 # åŒæ­¥æ—¶é—´é—´éš”,å•ä½ min ,é»˜è®¤ 30 min



#################### ç›‘å¬ ####################

# listeners:



#################### æµé‡éš§é“ ####################

# tunnels:

